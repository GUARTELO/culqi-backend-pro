[2025-12-05 20:25:22] ERROR: Excepci√≥n no capturada: Cannot set headers after they are sent to the client {"service":"culqi-backend","code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:655:11)\n    at ServerResponse.<anonymous> (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\app.js:195:9)\n    at ServerResponse.emit (node:events:536:35)\n    at onFinish (node:_http_outgoing:1031:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)"}
[2025-12-05 20:29:12] ERROR: Excepci√≥n no capturada: Cannot set headers after they are sent to the client {"service":"culqi-backend","code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:655:11)\n    at ServerResponse.<anonymous> (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\app.js:195:9)\n    at ServerResponse.emit (node:events:536:35)\n    at onFinish (node:_http_outgoing:1031:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)"}
[2025-12-05 20:49:58] ERROR: Excepci√≥n no capturada: Cannot set headers after they are sent to the client {"service":"culqi-backend","code":"ERR_HTTP_HEADERS_SENT","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:655:11)\n    at ServerResponse.<anonymous> (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\app.js:195:9)\n    at ServerResponse.emit (node:events:536:35)\n    at onFinish (node:_http_outgoing:1031:10)\n    at callback (node:internal/streams/writable:766:21)\n    at afterWrite (node:internal/streams/writable:710:5)\n    at afterWriteTick (node:internal/streams/writable:696:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)"}
[2025-12-05 21:15:17] ERROR: Error getting stats: Cannot read properties of undefined (reading 'stats') {"service":"culqi-backend","stack":"TypeError: Cannot read properties of undefined (reading 'stats')\n    at getStats (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\api\\v1\\payments\\controller.js:374:21)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:47:12)"}
[2025-12-05 21:18:58] ERROR: Error getting stats: Cannot read properties of undefined (reading 'stats') {"service":"culqi-backend","stack":"TypeError: Cannot read properties of undefined (reading 'stats')\n    at getStats (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\api\\v1\\payments\\controller.js:374:21)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:47:12)"}
[2025-12-05 21:25:55] ERROR: Error getting stats: {"service":"culqi-backend","error":"Cannot read properties of undefined (reading 'stats')","stack":"TypeError: Cannot read properties of undefined (reading 'stats')\n    at getStats (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\api\\v1\\payments\\controller.js:568:17)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:47:12)"}
[2025-12-05 21:27:22] ERROR: Error getting stats: {"service":"culqi-backend","error":"Cannot read properties of undefined (reading 'stats')","stack":"TypeError: Cannot read properties of undefined (reading 'stats')\n    at getStats (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\api\\v1\\payments\\controller.js:568:17)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:47:12)"}
[2025-12-06 11:12:52] ERROR: Promesa rechazada no manejada: Cannot read properties of undefined (reading 'handlePaymentError') {"service":"culqi-backend","stack":"TypeError: Cannot read properties of undefined (reading 'handlePaymentError')\n    at processPayment (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\api\\v1\\payments\\controller.js:78:18)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:47:12)"}
[2025-12-06 11:27:34] ERROR: Credenciales de Culqi inv√°lidas {"service":"culqi-backend","culqiError":true,"code":"AUTHENTICATION_ERROR","details":{"object":"error","type":"authentication_error","merchant_message":"La llave de autenticaci√≥n enviada no es v√°lida. Cont√°ctate con culqi.com/soporte para obtener m√°s informaci√≥n.","user_message":"El comercio tiene problemas de integraci√≥n con Culqi. Debe contactarse con culqi.com/soporte para obtener m√°s informaci√≥n."},"statusCode":401,"retryable":false}
[2025-12-06 22:35:22] ERROR: Credenciales de Culqi inv√°lidas {"service":"culqi-backend","culqiError":true,"code":"AUTHENTICATION_ERROR","details":{"object":"error","type":"authentication_error","merchant_message":"La llave de autenticaci√≥n enviada no es v√°lida. Cont√°ctate con culqi.com/soporte para obtener m√°s informaci√≥n.","user_message":"El comercio tiene problemas de integraci√≥n con Culqi. Debe contactarse con culqi.com/soporte para obtener m√°s informaci√≥n."},"statusCode":401,"retryable":false}
[2025-12-06 23:46:34] ERROR: Credenciales de Culqi inv√°lidas {"service":"culqi-backend","culqiError":true,"code":"AUTHENTICATION_ERROR","details":{"object":"error","type":"authentication_error","merchant_message":"La llave de autenticaci√≥n enviada no es v√°lida. Cont√°ctate con culqi.com/soporte para obtener m√°s informaci√≥n.","user_message":"El comercio tiene problemas de integraci√≥n con Culqi. Debe contactarse con culqi.com/soporte para obtener m√°s informaci√≥n."},"statusCode":401,"retryable":false}
[2025-12-13 19:52:11] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-13 19:53:36] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-13 20:03:07] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-13 20:05:54] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-13 20:05:54] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-13 20:05:55] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-13 20:05:55] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-13 20:05:55] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-13 20:05:55] ERROR: [ERROR_HANDLER] Expected property name or '}' in JSON at position 1 {"service":"culqi-backend","path":"/api/v1/payments/process","method":"POST","ip":"127.0.0.1","userAgent":"curl/8.16.0","error":"SyntaxError: Expected property name or '}' in JSON at position 1","stack":"SyntaxError: Expected property name or '}' in JSON at position 1\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)\n    at invokeCallback (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)"}
[2025-12-14 22:28:02] ERROR: üí• Error procesando pago pay_29294abc {"service":"culqi-backend","errorCode":"INTERNAL_ERROR","errorMessage":"req is not defined","statusCode":500,"duration":"2ms"}
[2025-12-14 22:54:49] ERROR: üí• Error procesando pago pay_8c345358 {"service":"culqi-backend","errorCode":"MISSING_TOKEN","errorMessage":"Token de pago requerido","statusCode":400,"duration":"1ms"}
[2025-12-14 22:58:34] ERROR: üí• Error procesando pago pay_00e42574 {"service":"culqi-backend","errorCode":"MISSING_TOKEN","errorMessage":"Token de pago requerido","statusCode":400,"duration":"2ms"}
[2025-12-14 23:59:35] ERROR: üí• Error procesando pago pay_d315fe29 {"service":"culqi-backend","errorCode":"MISSING_EMAIL","errorMessage":"Email del cliente requerido","statusCode":400,"duration":"3ms"}
[2025-12-15 20:24:38] ERROR: üí• Error procesando pago pay_d7e24828 {"service":"culqi-backend","errorCode":"INCOMPLETE_DATA","errorMessage":"Datos de Firebase incompletos","statusCode":400,"duration":"2ms"}
[2025-12-15 20:58:41] ERROR: üí• Error procesando pago pay_ffbd2dff {"service":"culqi-backend","errorCode":"INCOMPLETE_DATA","errorMessage":"Datos de Firebase incompletos","statusCode":400,"duration":"2ms"}
[2025-12-16 15:10:52] ERROR: üí• Error procesando pago pay_dd439982 {"service":"culqi-backend","errorCode":"MISSING_TOKEN","errorMessage":"Token de pago requerido","statusCode":400,"duration":"2ms"}
[2025-12-16 15:15:26] ERROR: üí• Error procesando pago pay_779295ef {"service":"culqi-backend","errorCode":"INVALID_AMOUNT","errorMessage":"Monto inv√°lido","statusCode":400,"duration":"1ms"}
[2025-12-16 15:16:23] ERROR: üí• Error procesando pago pay_6aecb081 {"service":"culqi-backend","errorCode":"INCOMPLETE_DATA","errorMessage":"Datos de Firebase incompletos","statusCode":400,"duration":"1ms"}
[2025-12-16 15:18:03] ERROR: üí• Error procesando pago pay_beb5547a {"service":"culqi-backend","errorCode":"INCOMPLETE_DATA","errorMessage":"Datos de Firebase incompletos","statusCode":400,"duration":"1ms"}
[2025-12-16 16:16:53] ERROR: üí• Error procesando pago pay_129f53b7 {"service":"culqi-backend","errorCode":"MISSING_TOKEN","errorMessage":"Token de pago requerido","statusCode":400,"duration":"1ms"}
[2025-12-23 23:22:27] ERROR: üí• Error procesando pago pay_d01670f7 {"service":"culqi-backend","errorCode":"INCOMPLETE_DATA","errorMessage":"Datos de Firebase incompletos","statusCode":400,"duration":"2ms"}
[2026-01-30 07:26:42] ERROR: ‚ùå Error generando ID secuencial: Cannot read properties of null (reading 'collection') {"service":"culqi-backend","stack":"TypeError: Cannot read properties of null (reading 'collection')\n    at PaymentController._generarOrderIdSecuencial (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\api\\v1\\payments\\controller.js:116:10)\n    at PaymentController.processPayment (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\src\\api\\v1\\payments\\controller.js:208:39)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at logger (C:\\Users\\Ciro\\Desktop\\BACKENDINFINITI\\culqi-backend-pro\\node_modules\\morgan\\index.js:144:5)"}
[2026-01-30 07:26:42] ERROR: üí• Error procesando pago pay_f952cd2c {"service":"culqi-backend","errorCode":"MISSING_EMAIL","errorMessage":"Email del cliente requerido","statusCode":400,"duration":"249ms"}
